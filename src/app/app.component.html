<div class="dashboard-layout">
  <!-- 漢堡選單按鈕 (手機版) -->
  <button class="mobile-menu-btn" (click)="toggleSidebar()">
    <span *ngIf="!sidebarOpen">☰</span>
    <span *ngIf="sidebarOpen">✕</span>
  </button>

  <!-- 遮罩層 (手機版) -->
  <div class="sidebar-overlay"
       [class.show]="sidebarOpen"
       (click)="closeSidebar()">
  </div>

  <!-- SIDEBAR -->
  <div class="sidebar" [class.open]="sidebarOpen">
    <h1 class="ims">婕暉ERP</h1>

    <!-- 導航連結容器 -->
    <ul class="nav-links" #navLinks (wheel)="onMouseWheel($event)">
      <li *ngIf="isAuth()"><a routerLink="/dashboard" (click)="onNavItemClick()">{{ 'DASHBOARD' | translate }}</a></li>
      <li *ngIf="isAuth()"><a routerLink="/transaction" (click)="onNavItemClick()">{{ 'TRANSACTIONS' | translate }}</a></li>
      <li *ngIf="isAdmin()"><a routerLink="/category" (click)="onNavItemClick()">{{ 'CATEGORY' | translate }}</a></li>
      <li *ngIf="isAdmin()"><a routerLink="/product" (click)="onNavItemClick()">{{ 'PRODUCT' | translate }}</a></li>
      <li *ngIf="isAdmin()"><a routerLink="/supplier" (click)="onNavItemClick()">{{ 'SUPPLIER' | translate }}</a></li>
      <li *ngIf="isAdmin()"><a routerLink="/customer" (click)="onNavItemClick()">{{ 'CUSTOMER' | translate }}</a></li>
      <li *ngIf="isAdmin()"><a routerLink="/customer-types" (click)="onNavItemClick()">{{ 'CUSTOMER_TYPES' | translate }}</a></li>
      <li *ngIf="isAuth()"><a routerLink="/purchase" (click)="onNavItemClick()">{{ 'PURCHASE' | translate }}</a></li>
      <li *ngIf="isAuth()"><a routerLink="/goods-receipt" (click)="onNavItemClick()">{{ 'GOODS_RECEIPT' | translate }}</a></li>
      <li *ngIf="isAuth()"><a routerLink="/sell" (click)="onNavItemClick()">{{ 'SELL' | translate }}</a></li>
      <li *ngIf="isAuth()"><a routerLink="/profile" (click)="onNavItemClick()">{{ 'PROFILE' | translate }}</a></li>
      <li *ngIf="!isAuth()"><a routerLink="/login" (click)="onNavItemClick()">{{ 'LOGIN' | translate }}</a></li>
      <li *ngIf="!isAuth()"><a routerLink="/register" (click)="onNavItemClick()">{{ 'REGISTER' | translate }}</a></li>
      <li *ngIf="isAuth()"><a (click)="logOut()" >{{ 'LOGOUT' | translate }}</a></li>
    </ul>
  </div>

  <!-- MAIN CONTENT Area-->
   <div class="main-content" [class.sidebar-open]="sidebarOpen">
      <h1>{{ 'WELCOME_MESSAGE' | translate }}</h1>
      <router-outlet></router-outlet>
   </div>
</div>

<!-- Loading Dialog -->
<app-loading-dialog></app-loading-dialog>
